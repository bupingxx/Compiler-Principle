# Compiler-Principle

___

:zap: 编译原理实验课程，根据进度更新。

:fire:  更新了**词法分析器**



## 1-词法分析器

### 1.1 实验要求

​	手动设计实现词法分析器，要求：

> 1. 实验报告
>
> 2. C语言词法分析源程序：source.c（源程序包）
>
> 3. C语言词法分析程序的可执行文件：clang.out/clang.exe
>
> 4. C语言源程序文件：demo.c（实验输入）
>
> 5. 词法分析及结果文件： tokens.txt（实验输出）
>
> 注：实验报告中需明确词法分析器所支持的单词范围，自动机(或者正规式)的设计，以及实验结果



### 1.2 实验环境

​	此词法分析器使用C++编写，针对C语言源程序进行词法分析，请保证编译器支持C++11以上标准。	

​	在windows上使用g++编译：

```
g++ -g -Wall -std=c++11 -o clang source.cpp
```

​	或者使用clang编译：

````
clang -g -Wall -o clang.exe source.cpp
````

​	运行程序：

```
clang.exe
```

​	在Linux上的编译并没有什么太大区别，只要编译器支持C++11以上即可，运行时应该使用`./`命令。另外，附上我的编译器版本：

```
gcc version 8.1.0
clang version 13.0.1
```



### 1.3 实验说明

实现的功能有：

- 分析代码中出现的identify，char, string以及constant类型，并存储到对应的iT，cT，sT以及CT表中
- 对代码中出现的所有token，生成对应的判别码，以`< token , code >`的方式输出到文件`tokens.txt`中
- 一共支持22种C关键字，12种分隔符，35种运算符的分析
- 支持转义字符的分析，例如 \t
- 支持浮点数的分析，例如1.1，1.2f，并检查是否符合规范，不允许类似类似1.2.3的出现
- 支持不同进制数字的分析，例如0b10，0xff，并检查是否符合规范，不允许类似0b23，099和0x0z的出现
- 分析时可以略过注释，并检查/\*和\*/是否匹配
- 有简易的错误检查机制，目前支持10余种错误码，便于debug，在代码中已做了相应的说明

支持的单词与对应的判别码关系如下所示：



| symbol | code | symbol  | code | symbol   | code | symbol | code |
| ------ | ---- | ------- | ---- | -------- | ---- | ------ | ---- |
| iT     | 0    | cT      | 1    | sT       | 2    | CT     | 3    |
| int    | 4    | long    | 5    | char     | 6    | float  | 7    |
| double | 8    | signed  | 9    | unsigned | 10   | short  | 11   |
| auto   | 12   | const   | 13   | main     | 14   | if     | 15   |
| else   | 16   | for     | 17   | continue | 18   | break  | 19   |
| return | 20   | void    | 21   | while    | 22   | do     | 23   |
| struct | 24   | typedef | 25   | "        | 26   | '      | 27   |
| \\     | 28   | :       | 29   | ;        | 30   | ,      | 31   |
| {      | 32   | }       | 33   | [        | 34   | ]      | 35   |
| (      | 36   | )       | 37   | +        | 38   | -      | 39   |
| *      | 40   | /       | 41   | =        | 42   | >      | 43   |
| <      | 44   | !       | 45   | %        | 46   | &      | 47   |
| \|     | 48   | !       | 49   | ~        | 50   | ^      | 51   |
| ?      | 52   | <<      | 53   | >>       | 54   | &&     | 55   |
| \|\|   | 56   | ++      | 57   | --       | 58   | ==     | 59   |
| >=     | 60   | <=      | 61   | !=       | 62   | +=     | 63   |
| -=     | 64   | *=      | 65   | /=       | 66   | %=     | 67   |
| &=     | 68   | \|=     | 69   | >>=      | 70   | <<=    | 71   |
| .      | 72   |         |      |          |      |        |      |





